<!DOCTYPE HTML>
<html>
    <head>
        <title>Animation!</title>
        <script>
            function animate() {
                var box = this,
                    goLeft = false,
                    intervalId;
                
                box.style.position = "absolute";
                
                intervalId = setInterval(function() {
                    
                    var pos = parseInt(box.style.left || 5);
                    pos += goLeft ? -5 : 5;
                    box.style.left = pos + "px";
                    
                    if(pos >= 500) {
                        goLeft = true;
                    } else if(pos <= 0) {
                        goLeft = false;
                    }
                }, 20);
            }
             
            window.onload = function() {
                var boxes = document.getElementsByClassName('box');
                for(var i = 0; i < boxes.length; i++) {
                    boxes[i].onclick = animate;
                }
            };
        </script>
        <style>
            .box { width:200px; height:200px; background:#000; }
        </style>
    </head>
    <body>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
    </body>
</html>
